define(["jquery","theme_boost/loader","core/log"],function(a,b,c){"use strict";return c.debug("Adaptable Bootstrap AMD opt in functions"),{init:function(b){if(a(document).ready(function(a){function c(){f>0&&(window.pageYOffset>=f?0==g&&(e.classList.add("adaptable-navbar-sticky"),g=!0):1==g&&(e.classList.remove("adaptable-navbar-sticky"),g=!1))}function d(){0==f&&(f=e.offsetTop,g=window.pageYOffset<f,c())}var e=document.getElementById("main-navbar");if(b.stickynavbar&&null!=e){var f=e.offsetTop;window.onscroll=function(){c()},window.onresize=function(){d()};var g=window.pageYOffset<f;c()}var h=992,i=0;a(window).width()<=h?(a("#adaptable-page-header-wrapper").addClass("fixed-top"),a("body").addClass("page-header-margin"),i=1):(a("#adaptable-page-header-wrapper").removeClass("fixed-top"),a("body").removeClass("page-header-margin")),a(window).resize(function(){a(window).width()<=h?0==i&&(a("#adaptable-page-header-wrapper").addClass("fixed-top"),a("body").addClass("page-header-margin"),i=1):1==i&&(a("#adaptable-page-header-wrapper").removeClass("fixed-top"),a("body").removeClass("page-header-margin"),i=0)});var j=a("#showsidebaricon");j.length&&j.css({top:a(window).height()/2+"px"}),a(window).resize(function(){if(a(window).width()>h){var b=a("#nav-drawer");if(b.length&&!b.hasClass("closed")){b.addClass("closed"),b.attr("aria-hidden","true"),a("#drawer").attr("aria-expanded","false");var c=a("#drawer").attr("data-side");a("body").removeClass("drawer-open-"+c)}}j.length&&j.css({top:a(window).height()/2+"px"})}),a(".moodlewidth").click(function(){a("#page").hasClass("fullin")?(a("#page").removeClass("fullin"),M.util.set_user_preference("theme_adaptable_full","nofull")):(a("#page").addClass("fullin"),M.util.set_user_preference("theme_adaptable_full","fullin"))}),a("#openoverlaymenu").click(function(){a("#conditionalmenu").toggleClass("open")}),a("#overlaymenuclose").click(function(){a("#conditionalmenu").toggleClass("open")}),a(".dropdown-menu a.dropdown-toggle").on("click",function(b){var c=a(this),d=a(this).offsetParent(".dropdown-menu");a(this).next().hasClass("show")||a(this).parents(".dropdown-menu").first().find(".show").removeClass("show");var e=a(this).next(".dropdown-menu");return e.toggleClass("show"),a(this).parent("li").toggleClass("show"),a(this).parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",function(b){a(".dropdown-menu .show").removeClass("show")}),d.parent().hasClass("navbar-nav")||c.next().css({top:c[0].offsetTop,left:d.outerWidth()-4}),!1})}),b.stickynavbar){var c=function(){scrollBy(0,-50)};location.hash&&c(),window.addEventListener("hashchange",c)}}}});