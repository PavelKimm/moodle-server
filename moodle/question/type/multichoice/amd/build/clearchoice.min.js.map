{"version":3,"sources":["../src/clearchoice.js"],"names":["define","$","CustomEvents","SELECTORS","ANSWER_RADIOS","CLEARRESULTS_LINK","CSSHIDDEN","registerEventListeners","root","clearChoiceButton","find","on","events","activate","e","data","each","prop","target","addClass","originalEvent","preventDefault","removeClass","init"],"mappings":"AAuBAA,OAAM,iCAAC,CAAC,QAAD,CAAW,gCAAX,CAAD,CAA+C,SAASC,CAAT,CAAYC,CAAZ,CAA0B,IAEvEC,CAAAA,CAAS,CAAG,CACZC,aAAa,CAAE,eADH,CAEZC,iBAAiB,CAAE,iCAFP,CAF2D,CAOvEC,CAAS,CAAG,QAP2D,CAcvEC,CAAsB,CAAG,SAASC,CAAT,CAAe,CAExC,GAAIC,CAAAA,CAAiB,CAAGD,CAAI,CAACE,IAAL,CAAUP,CAAS,CAACE,iBAApB,CAAxB,CAEAG,CAAI,CAACG,EAAL,CAAQT,CAAY,CAACU,MAAb,CAAoBC,QAA5B,CAAsCV,CAAS,CAACE,iBAAhD,CAAmE,SAASS,CAAT,CAAYC,CAAZ,CAAkB,CACjFP,CAAI,CAACE,IAAL,CAAUP,CAAS,CAACC,aAApB,EAAmCY,IAAnC,CAAwC,UAAW,CAC/Cf,CAAC,CAAC,IAAD,CAAD,CAAQgB,IAAR,CAAa,SAAb,IACH,CAFD,EAGAhB,CAAC,CAACa,CAAC,CAACI,MAAH,CAAD,CAAYC,QAAZ,CAAqBb,CAArB,EACAS,CAAI,CAACK,aAAL,CAAmBC,cAAnB,EACH,CAND,EAQAb,CAAI,CAACG,EAAL,CAAQT,CAAY,CAACU,MAAb,CAAoBC,QAA5B,CAAsCV,CAAS,CAACC,aAAhD,CAA+D,UAAW,CACtEK,CAAiB,CAACa,WAAlB,CAA8BhB,CAA9B,CACH,CAFD,CAGH,CA7B0E,CAyC3E,MAAO,CACHiB,IAAI,CANG,QAAPA,CAAAA,IAAO,CAASf,CAAT,CAAe,CACtBA,CAAI,CAAGP,CAAC,CAAC,IAAMO,CAAP,CAAR,CACAD,CAAsB,CAACC,CAAD,CACzB,CAEM,CAGV,CA5CK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Manages 'Clear my choice' functionality actions.\n *\n * @module     qtype_multichoice/clearchoice\n * @copyright  2019 Simey Lameze <simey@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      3.7\n */\ndefine(['jquery', 'core/custom_interaction_events'], function($, CustomEvents) {\n\n    var SELECTORS = {\n        ANSWER_RADIOS: '.answer input',\n        CLEARRESULTS_LINK: 'a[data-action=\"clearresults\"]'\n    };\n\n    var CSSHIDDEN = 'd-none';\n\n    /**\n     * Register event listeners for the clear choice module.\n     *\n     * @param {Object} root The question outer div prefix.\n     */\n    var registerEventListeners = function(root) {\n\n        var clearChoiceButton = root.find(SELECTORS.CLEARRESULTS_LINK);\n\n        root.on(CustomEvents.events.activate, SELECTORS.CLEARRESULTS_LINK, function(e, data) {\n            root.find(SELECTORS.ANSWER_RADIOS).each(function() {\n                $(this).prop('checked', false);\n            });\n            $(e.target).addClass(CSSHIDDEN);\n            data.originalEvent.preventDefault();\n        });\n\n        root.on(CustomEvents.events.activate, SELECTORS.ANSWER_RADIOS, function() {\n            clearChoiceButton.removeClass(CSSHIDDEN);\n        });\n    };\n\n    /**\n     * Initialise clear choice module.\n\n     * @param {string} root The question outer div prefix.\n     */\n    var init = function(root) {\n        root = $('#' + root);\n        registerEventListeners(root);\n    };\n\n    return {\n        init: init\n    };\n});\n"],"file":"clearchoice.min.js"}